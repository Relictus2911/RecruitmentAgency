@using RecruitmentAgency.Data_Access_Layer
@using RecruitmentAgency.Enum
<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>@ViewBag.Title – приложение ASP.NET</title>
	@Styles.Render("~/Content/css")
	@Scripts.Render("~/bundles/modernizr")


	<link href="@Url.Content("~/Content/themes/base/minified/jquery-ui.min.css")" rel="stylesheet" />
	<!-- Required jQuery and jQuery UI Javascript references -->
	<script src="@Url.Content("~/Scripts/jquery-3.3.1.min.js")"></script>
	<script src="@Url.Content("~/Scripts/jquery-ui-1.12.1.min.js")"></script>
</head>

<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				@Html.ActionLink("Кадровое агенство", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
			</div>
			@if (Request.IsAuthenticated)
			{
				var user = UserDAL.GetUserByName(User.Identity.Name);
				{
					switch (user.Role)
					{
						case Role.admin:
							Html.RenderPartial("~/Views/Shared/_Admin.cshtml", user.Id);
							break;
						case Role.employer:
							Html.RenderPartial("~/Views/Shared/_Employer.cshtml", user.Id);
							break;
						case Role.candidate:
							Html.RenderPartial("~/Views/Shared/_Candidate.cshtml", user.Id);
							break;
						default:
							Html.RenderPartial("~/Views/Shared/_LoginPartial.cshtml", user.Id);
							break;
					}
				}
			}
			else {@Html.Partial("_LoginPartial")}
		</div>
	</div>
	<div class="container body-content">
		@RenderBody()
		<hr />
		<footer>
			<p>&copy; @DateTime.Now.Year – приложение ASP.NET</p>
		</footer>
	</div>
	@Scripts.Render("~/bundles/bootstrap")
	@RenderSection("scripts", required: false)
</body>
</html>
